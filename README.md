# Анализатор Криптовалют с Выгрузкой на Google Диск

Веб-приложение для ввода аналитических данных по списку криптовалют с возможностью выгрузки отчета на Google Диск.

## Функциональность

- Отображение списка криптовалют
- Ввод аналитических данных для каждой монеты (шорт и лонг позиции)
- Генерация CSV-отчета с введенными данными
- Авторизация через Google OAuth
- Загрузка отчета на Google Диск пользователя

## Технический стек

### Фронтенд
- React
- TypeScript
- Vite
- Material-UI
- React Context API
- Axios

### Бэкенд
- Node.js
- Express.js
- Google API (googleapis)
- PapaParse (для работы с CSV)

### Контейнеризация
- Docker
- Docker Compose

## Структура проекта

```
crypto-analyzer/
├── client/                  # Фронтенд (React/Vite)
│   ├── public/              # Статические файлы
│   ├── src/                 # Исходный код
│   │   ├── components/      # React компоненты
│   │   ├── context/         # React контексты
│   │   ├── services/        # Сервисы для работы с API
│   │   ├── utils/           # Вспомогательные функции
│   │   ├── App.tsx          # Главный компонент приложения
│   │   └── main.tsx         # Точка входа
│   ├── index.html           # HTML шаблон
│   ├── package.json         # Зависимости фронтенда
│   └── tsconfig.json        # Конфигурация TypeScript
│
├── server/                  # Бэкенд (Node.js/Express)
│   ├── controllers/         # Контроллеры
│   ├── data/                # Данные (JSON файлы)
│   ├── routes/              # Маршруты API
│   ├── services/            # Сервисы
│   ├── utils/               # Вспомогательные функции
│   ├── .env                 # Переменные окружения
│   ├── index.js             # Точка входа
│   └── package.json         # Зависимости бэкенда
│
├── .gitignore               # Исключения для Git
└── README.md                # Документация проекта
```

## Установка и запуск

### Предварительные требования
- Node.js (версия 16.x или выше)
- npm (версия 7.x или выше)
- Docker и Docker Compose (опционально)

### Настройка Google API
1. Создайте проект в [Google Cloud Console](https://console.cloud.google.com/)
2. Включите Google Drive API
3. Создайте OAuth 2.0 Client ID
4. Добавьте URI перенаправления: `http://localhost:3001/api/auth/google/callback`
5. Скопируйте Client ID и Client Secret в файл `.env` в папке server

### Запуск без Docker

#### Бэкенд
```bash
# Перейти в папку сервера
cd server

# Установить зависимости
npm install

# Запустить сервер в режиме разработки
npm run dev
```

#### Фронтенд
```bash
# Перейти в папку клиента
cd client

# Установить зависимости
npm install

# Запустить клиент в режиме разработки
npm run dev
```

### Запуск с Docker
```bash
# Собрать и запустить контейнеры
docker-compose up -d

# Остановить контейнеры
docker-compose down
```

## Использование

1. Откройте приложение в браузере: http://localhost:3000
2. Авторизуйтесь через Google
3. Выберите криптовалюты для анализа
4. Заполните формы анализа для каждой монеты
5. Нажмите кнопку "Сгенерировать отчет" для создания CSV-файла
6. Нажмите кнопку "Загрузить на Google Диск" для выгрузки отчета

# Crypto Analyzer - Руководство по деплою

Это руководство поможет вам развернуть приложение Crypto Analyzer бесплатно на [Render.com](https://render.com).

## Подготовка к деплою

Весь необходимый код уже подготовлен для развертывания:
- Dockerfile для клиента и сервера
- Конфигурационный файл render.yaml
- Настройки Nginx для фронтенда

## Шаги по деплою на Render.com

1. **Создайте аккаунт на Render.com**
   - Перейдите на [render.com](https://render.com) и зарегистрируйтесь (лучше через GitHub)

2. **Загрузите код в GitHub или GitLab**
   - Если у вас еще нет репозитория, создайте новый и загрузите туда код проекта

3. **Настройте Blueprint для автоматического деплоя**
   - В панели управления Render выберите "Blueprints"
   - Нажмите "New Blueprint Instance"
   - Выберите ваш репозиторий
   - Render автоматически обнаружит файл render.yaml и предложит создать сервисы

4. **Настройте переменные окружения**
   - В процессе настройки вам нужно будет указать:
     - GOOGLE_CLIENT_ID (из консоли Google Cloud)
     - GOOGLE_CLIENT_SECRET (из консоли Google Cloud)

5. **Завершите установку**
   - Render развернет обе части вашего приложения (бэкенд и фронтенд)
   - После успешного деплоя вы получите URL-адреса:
     - Для API: https://crypto-analyzer-api.onrender.com
     - Для клиента: https://crypto-analyzer-client.onrender.com

## Настройка Google API

Чтобы функция экспорта на Google Drive работала, вам нужно:

1. Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте новый проект
3. Настройте OAuth и включите Google Drive API
4. Создайте учетные данные OAuth 2.0
5. В настройках OAuth добавьте URIs перенаправления:
   - https://crypto-analyzer-client.onrender.com/auth-callback
6. Скопируйте Client ID и Client Secret
7. Добавьте эти значения в переменные окружения в панели управления Render

## Альтернативные варианты бесплатного хостинга

Если по какой-то причине Render вам не подошел, можно рассмотреть:

1. **Netlify + Railway**
   - Netlify для фронтенда (бесплатный план)
   - Railway для бэкенда (бесплатный план с ограничениями)

2. **Vercel + Fly.io**
   - Vercel для фронтенда (бесплатный план)
   - Fly.io для бэкенда (бесплатный уровень с ограниченными ресурсами)

3. **GitHub Pages + Heroku**
   - GitHub Pages для фронтенда (бесплатно)
   - Heroku для бэкенда (ограниченный бесплатный уровень)
